<header class="sticky top-0 z-50 bg-white/95 backdrop-blur-sm shadow-sm">
  <nav class="container mx-auto px-4 py-3">
    <div class="flex items-center justify-between">
      <!-- Logo -->
      <a routerLink="/" class="flex items-center gap-2" (click)="closeMenu()">
        <span class="text-2xl font-decorative text-primary-700">✨</span>
        <span class="text-xl font-serif font-semibold text-primary-800">Izabela Tarot</span>
      </a>

      <!-- Desktop Navigation -->
      <div class="hidden lg:flex items-center gap-6">
        <a routerLink="/" routerLinkActive="text-primary-600" [routerLinkActiveOptions]="{exact: true}"
           class="text-neutral-700 hover:text-primary-600 transition-colors font-medium">
          Início
        </a>
        <a routerLink="/sobre" routerLinkActive="text-primary-600"
           class="text-neutral-700 hover:text-primary-600 transition-colors font-medium">
          Sobre
        </a>
        <a routerLink="/servicos" routerLinkActive="text-primary-600"
           class="text-neutral-700 hover:text-primary-600 transition-colors font-medium">
          Serviços
        </a>
        <a routerLink="/loja" routerLinkActive="text-primary-600"
           class="text-neutral-700 hover:text-primary-600 transition-colors font-medium">
          Loja
        </a>
        <a routerLink="/depoimentos" routerLinkActive="text-primary-600"
           class="text-neutral-700 hover:text-primary-600 transition-colors font-medium">
          Depoimentos
        </a>
        <a routerLink="/contato" routerLinkActive="text-primary-600"
           class="text-neutral-700 hover:text-primary-600 transition-colors font-medium">
          Contato
        </a>
      </div>

      <!-- Desktop Actions -->
      <div class="hidden lg:flex items-center gap-4">
        <!-- Cart -->
        <a routerLink="/carrinho" class="relative p-2 text-neutral-700 hover:text-primary-600 transition-colors">
          <i class="pi pi-shopping-cart text-xl"></i>
          @if (cartItemCount() > 0) {
            <span class="absolute -top-1 -right-1 bg-primary-600 text-white text-xs w-5 h-5 rounded-full flex items-center justify-center">
              {{ cartItemCount() }}
            </span>
          }
        </a>

        @if (isAuthenticated()) {
          <!-- User Menu -->
          <div class="flex items-center gap-3">
            @if (isAdmin()) {
              <a routerLink="/admin" 
                 class="text-sm font-medium text-primary-600 hover:text-primary-700">
                Painel Admin
              </a>
            } @else {
              <a routerLink="/cliente" 
                 class="text-sm font-medium text-primary-600 hover:text-primary-700">
                Minha Área
              </a>
            }
            <button (click)="logout()" 
                    class="text-sm text-neutral-600 hover:text-neutral-800">
              Sair
            </button>
          </div>
        } @else {
          <a routerLink="/auth/login">
            <p-button label="Entrar" [outlined]="true" size="small" />
          </a>
          <a routerLink="/auth/cadastro">
            <p-button label="Cadastrar" size="small" />
          </a>
        }
      </div>

      <!-- Mobile Menu Button -->
      <button class="lg:hidden p-2 text-neutral-700" (click)="toggleMenu()">
        <i class="pi" [class.pi-bars]="!isMenuOpen()" [class.pi-times]="isMenuOpen()" class="text-xl"></i>
      </button>
    </div>

    <!-- Mobile Navigation -->
    @if (isMenuOpen()) {
      <div class="lg:hidden mt-4 pb-4 border-t border-neutral-200 pt-4">
        <div class="flex flex-col gap-3">
          <a routerLink="/" (click)="closeMenu()" 
             class="text-neutral-700 hover:text-primary-600 transition-colors font-medium py-2">
            Início
          </a>
          <a routerLink="/sobre" (click)="closeMenu()"
             class="text-neutral-700 hover:text-primary-600 transition-colors font-medium py-2">
            Sobre
          </a>
          <a routerLink="/servicos" (click)="closeMenu()"
             class="text-neutral-700 hover:text-primary-600 transition-colors font-medium py-2">
            Serviços
          </a>
          <a routerLink="/loja" (click)="closeMenu()"
             class="text-neutral-700 hover:text-primary-600 transition-colors font-medium py-2">
            Loja
          </a>
          <a routerLink="/depoimentos" (click)="closeMenu()"
             class="text-neutral-700 hover:text-primary-600 transition-colors font-medium py-2">
            Depoimentos
          </a>
          <a routerLink="/contato" (click)="closeMenu()"
             class="text-neutral-700 hover:text-primary-600 transition-colors font-medium py-2">
            Contato
          </a>

          <div class="border-t border-neutral-200 pt-3 mt-2">
            <a routerLink="/carrinho" (click)="closeMenu()"
               class="flex items-center gap-2 text-neutral-700 hover:text-primary-600 transition-colors font-medium py-2">
              <i class="pi pi-shopping-cart"></i>
              Carrinho
              @if (cartItemCount() > 0) {
                <span class="bg-primary-600 text-white text-xs px-2 py-0.5 rounded-full">
                  {{ cartItemCount() }}
                </span>
              }
            </a>
          </div>

          <div class="border-t border-neutral-200 pt-3 mt-2 flex flex-col gap-2">
            @if (isAuthenticated()) {
              @if (isAdmin()) {
                <a routerLink="/admin" (click)="closeMenu()"
                   class="text-primary-600 font-medium py-2">
                  Painel Admin
                </a>
              } @else {
                <a routerLink="/cliente" (click)="closeMenu()"
                   class="text-primary-600 font-medium py-2">
                  Minha Área
                </a>
              }
              <button (click)="logout()" class="text-left text-neutral-600 py-2">
                Sair
              </button>
            } @else {
              <a routerLink="/auth/login" (click)="closeMenu()">
                <p-button label="Entrar" [outlined]="true" styleClass="w-full" />
              </a>
              <a routerLink="/auth/cadastro" (click)="closeMenu()">
                <p-button label="Cadastrar" styleClass="w-full" />
              </a>
            }
          </div>
        </div>
      </div>
    }
  </nav>
</header>
