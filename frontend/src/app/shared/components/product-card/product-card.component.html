<a [routerLink]="['/loja', product.slug]" 
   class="block bg-white rounded-2xl shadow-sm hover:shadow-lg transition-all duration-300 overflow-hidden group">
  <!-- Image -->
  <div class="relative aspect-4/3 overflow-hidden bg-primary-50">
    @if (product.coverImageUrl) {
      <img [src]="product.coverImageUrl" 
           [alt]="product.name"
           class="w-full h-full object-cover group-hover:scale-105 transition-transform duration-500">
    } @else {
      <div class="w-full h-full flex items-center justify-center text-primary-300">
        <i class="pi pi-image text-4xl"></i>
      </div>
    }

    <!-- Badges -->
    <div class="absolute top-3 left-3 flex flex-col gap-2">
      @if (product.isFeatured) {
        <span class="bg-accent-gold text-white text-xs font-semibold px-3 py-1 rounded-full">
          ‚≠ê Destaque
        </span>
      }
      @if (hasDiscount) {
        <span class="bg-error text-white text-xs font-semibold px-3 py-1 rounded-full">
          -{{ discountPercentage }}%
        </span>
      }
    </div>
  </div>

  <!-- Content -->
  <div class="p-5">
    <!-- Category -->
    @if (product.category) {
      <span class="text-xs text-primary-600 font-medium uppercase tracking-wide">
        {{ product.category.name }}
      </span>
    }

    <!-- Title -->
    <h3 class="font-serif text-lg font-semibold text-neutral-800 mt-1 mb-2 line-clamp-2 group-hover:text-primary-700 transition-colors">
      {{ product.name }}
    </h3>

    <!-- Description -->
    @if (product.shortDescription) {
      <p class="text-sm text-neutral-600 line-clamp-2 mb-4">
        {{ product.shortDescription }}
      </p>
    }

    <!-- Price -->
    <div class="flex items-center gap-2 mb-4">
      <span class="text-xl font-bold text-primary-700">
        {{ product.price | currencyBrl }}
      </span>
      @if (hasDiscount) {
        <span class="text-sm text-neutral-400 line-through">
          {{ product.originalPrice | currencyBrl }}
        </span>
      }
    </div>

    <!-- Action -->
    <p-button label="Adicionar ao Carrinho" 
              icon="pi pi-cart-plus" 
              styleClass="w-full" 
              size="small"
              (onClick)="onAddToCart($event)" />
  </div>
</a>
